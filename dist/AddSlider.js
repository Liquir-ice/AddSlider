var GUID=function(){function e(){do var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,r="x"==e?t:3&t|8;return r.toString(16)});while(!e.register(t));return t}return e.create=function(){return e()},e.version="1.2.0",e.list=[],e.exists=function(t){return e.list.indexOf(t)>-1},e.register=function(t){return!e.exists(t)&&(e.list.push(t),!0)},e}(),Obj=function(){function toFunc(e){if("function"==typeof e)return e;if("string"==typeof e){if(void 0!=window[e]&&"function"==typeof window[e])return window[e];try{return new Function(e)}catch(e){}}return function(){return e}}function Obj(){this._guid=GUID(),Object.defineProperty(this,"guid",{get:function(){return this._guid},set:function(){}}),this._handlers=[],this.on=function(e,t,r){for(var i="all",n=null,s=0,o=0;o<arguments.length;o++)"string"==typeof arguments[o]?i=arguments[o].toLowerCase().split(" "):arguments[o]instanceof Array?i=$.map(arguments[o],function(e,t){return e.toLowerCase()}):"function"==typeof arguments[o]?n=arguments[o]:"number"==typeof arguments[o]&&(s=arguments[o]);if(!n)return this;for(var o=0;o<i.length;o++)this._handlers.push({event:i[o],handler:n,max_count:s,trigger_count:0});return this},this.off=function(e,t){if(void 0===t&&"function"==typeof e)for(var t=e,r=0;r<this._handlers.length;r++)this._handlers[r].handler==t&&this._handlers.splice(r--,1);else if(void 0===t&&"string"==typeof e){e=e.toLowerCase().split(" ");for(var r=0;r<this._handlers.length;r++)e.indexOf(this._handlers[r].event)>-1&&this._handlers.splice(r--,1)}else{e=e.toLowerCase().split(" ");for(var r=0;r<this._handlers.length;r++)e.indexOf(this._handlers[r].event)>-1&&this._handlers[r].handler==t&&this._handlers.splice(r--,1)}return this},this.trigger=function(e,t){e=e.toLowerCase().split(" ");for(var r=0;r<this._handlers.length;r++)(e.indexOf(this._handlers[r].event)>-1||"all"==this._handlers[r].event)&&toFunc(this._handlers[r].handler).call(this,"all"!=this._handlers[r].event?this._handlers[r].event:e.join(" "),t);return this},this._elements=$(),this.renderer=function(){var e=$("<div class='Obj'></div>");for(var t in this)0==t.indexOf("_")&&"function"!=typeof this[t]&&["_handlers","_elements","_guid"].indexOf(t)==-1&&e.append("<div class='Obj-member'><div class='Obj-member-key'>"+t.substr(1)+"</div><div class='Obj-member-value'>"+this[t]+"</div></div>");return e},this.refresher=function(e){return this.renderer.apply(this)},this.destroyer=function(e){},this.render=function(e,t){var r=this;if(void 0===e)var e="body";if(void 0===t)var t="append";else t=t.toLowerCase();var i=[].slice.call(arguments,2),n=this;return $(e).each(function(e,s){s=$(s);var o=$(r.renderer.apply(r,i));o.attr("guid",r.guid),r._elements=r._elements.add(o),"append"==t?s.append(o):"prepend"==t?s.prepend(o):"after"==t?s.after(o):"before"==t?s.before(o):"return"==t?n=o:"replace"==t&&(s.after(o),s.remove())}),this.trigger("render"),n},this.refresh=function(e){for(var t=$(),r=0;r<this._elements.length;r++){var i=this._elements.eq(r),n=this.refresher.call(this,i,e);n?(n.attr("guid",this.guid),this._elements=this._elements.not(i),i.after(n),i.remove(),t=t.add(n)):t=t.add(i)}return this._elements=t,this},this.destroy=function(){var e=this;return this._elements.each(function(t,r){var i=$(r);i.off(),i.find("*").off(),e.destroyer.call(e,i)}),this._elements.remove(),this._elements=$(),delete Obj.directory[this.guid],this},this.defMember=function(e,t,r,i){for(var n=this,s=["handlers","on","off","trigger","elements","render","renderer","refresh","refresher","destroy","destroyer","defMember","defSettings","defMethod","guid"],o=0;o<s;o++)if(s[o]==e||"_"+s[o]==e)return!1;this["_"+e]=void 0===t?null:t,Object.defineProperty(this,e,{get:function(){var t=this["_"+e];return i&&(t=i.call(n,t)),this.trigger("get"+e+" "+e,t),t},set:function(t){if(r){var i=r.call(n,t);void 0!==i&&(t=i)}this["_"+e]=t,this.trigger("set"+e+" "+e,t),this.refresh(e)}})},this.defSettings=function(e){if(void 0===e)var e={};this._settings=e,Object.defineProperty(this,"settings",{get:function(){return this.trigger("getsettings settings",this._settings),this._settings},set:function(e){this._settings=$.extend(this._settings,e),this.trigger("setsettings settings",this._settings),this.refresh("settings")}})},this.defMethod=function(e,t){var r=this;this["_"+e]=t,this[e]=function(){var t=r["_"+e].apply(r,arguments);return r.trigger(e,arguments),void 0!=t?t:r}},Obj.directory[this.guid]=this}return Obj.version="2.1.3",Obj.directory={},Obj.extend=function(e,t){t||(t=Obj);var r=function(){t.apply(this,arguments),e.apply(this,arguments)};return e.prototypoe=Object.create(t.prototype),r.prototype=Object.create(e.prototype),r},Obj.create=function(o){function Proto(){Obj.apply(this)}if("function"==typeof o)return Obj.extend(o);if("object"==typeof o){var cc="function Proto(){Obj.apply(this);";for(var k in o){var v=o[k];"function"==typeof v?cc+=["init","renderer","refresher","destroyer"].indexOf(k)>-1?"this."+k+"="+v+";":"this.defMethod('"+k+"',"+v+");":("string"==typeof v&&(v='"'+v+'"'),cc+="this.defMember('"+k+"', "+v+");")}return o.init&&(cc+="this.init.apply(this,arguments);"),cc+="};Proto.prototype = Object.create(Obj.prototype);",eval(cc),Proto}return Proto.prototype=Object.create(Obj.prototype),Proto},Obj}();if(typeof($add)=="undefined")var $add={version:{},auto:{disabled:false}};!function(t){function e(t){if("function"==typeof t)return t;if("string"==typeof t){if(void 0!=window[t]&&"function"==typeof window[t])return window[t];try{return new Function(t)}catch(t){}}return function(){return t}}function i(t,e){return Math.round(t*(1/e))/(1/e)}function s(t){return isNaN(parseFloat(t))&&t.length>0?s(t.substr(1)):parseFloat(t)}$add.version.Slider="2.1.0",$add.Slider=function(e,i){var s=t(e).each(function(e,s){var n=t(s),a={};n.attr("name")&&(a.name=n.attr("name")),n.attr("class")&&(a.class=n.attr("class")),n.attr("id")&&(a.id=n.attr("id")),n.attr("value")&&(a.value=n.attr("value")),n.attr("min")&&(a.min=n.attr("min")),n.attr("max")&&(a.max=n.attr("max")),n.attr("step")&&(a.step=n.attr("step")),i=t.extend(a,n.data(),i);var d=new $add.Slider.Obj(i);return d.render(n,"replace"),d});return 0==s.length?null:1==s.length?s[0]:s},$add.Slider.Obj=Obj.create(function(n){this.defSettings({direction:"horizontal",min:0,max:100,step:.1,value:50,fontsize:18,formatter:function(t){if((this._settings.step+"").indexOf(".")>-1)var e=(this._settings.step+"").split(".").pop().length;else var e=0;if(v=s(t),t<0){var i=!0;t=0-t}else var i=!1;if(isNaN(t))return"NaN";var n=Math.floor(t),a=t-n;for(a=Math.round(a*Math.pow(10,e)),a+="";a.length<e;)a="0"+a;return(i?"-":"")+n+(e>0?"."+a:"")},timeout:2e3,range:!1,id:!1,name:"",class:""}),Object.defineProperty(this,"value",{get:function(){return this.trigger("getvalue value",this._settings.value),this._settings.value},set:function(n){var a=this;if(this._settings.value=n,this._elements.find(".addui-slider-input").val(this._settings.value),this._settings.range){var d=i(parseFloat(this._settings.value.split(",")[0]),this._settings.step),r=i(parseFloat(this._settings.value.split(",")[1]),this._settings.step),l=this._settings.max-this._settings.min,o=d-this._settings.min,h=r-this._settings.min,u=o/l*100,g=h/l*100;this._elements.each(function(i,s){var n=t(s);"vertical"==a._settings.direction?(n.find(".addui-slider-handle").eq(0).css("bottom",u+"%"),n.find(".addui-slider-handle").eq(1).css("bottom",g+"%"),n.find(".addui-slider-range").css("bottom",u+"%").css("height",g-u+"%")):(n.find(".addui-slider-handle").eq(0).css("left",u+"%"),n.find(".addui-slider-handle").eq(1).css("left",g+"%"),n.find(".addui-slider-range").css("left",u+"%").css("width",g-u+"%")),n.find(".addui-slider-handle").eq(0).find(".addui-slider-value span").html(e(a._settings.formatter).call(a,d)),n.find(".addui-slider-handle").eq(1).find(".addui-slider-value span").html(e(a._settings.formatter).call(a,r))})}else{var v=s(this._settings.value)-this._settings.min,m=i(v,this._settings.step)/(this._settings.max-this._settings.min)*100;"vertical"==this._settings.direction?(this._elements.find(".addui-slider-handle").css("bottom",m+"%"),this._elements.find(".addui-slider-range").css("height",m+"%"),this._elements.find(".addui-slider-range").css("bottom","0%")):(this._elements.find(".addui-slider-handle").css("left",m+"%"),this._elements.find(".addui-slider-range").css("width",m+"%")),this._elements.find(".addui-slider-value span").html(e(this._settings.formatter).call(this,this._settings.value))}}}),this.renderer=function(){function e(t){if(t.preventDefault(),"vertical"==o._settings.direction){if("touchmove"==t.type)var e=t.originalEvent.changedTouches[0].pageY;else var e=t.pageY;var s=h.offset().top+h.height(),n=s-e,a=n/h.height()*100}else{if("touchmove"==t.type)var d=t.originalEvent.changedTouches[0].pageX;else var d=t.pageX;var r=h.offset().left,l=d-r,a=l/h.width()*100}var u=i(a/100*(o._settings.max-o._settings.min),o._settings.step)+o._settings.min;u=Math.min(o._settings.max,Math.max(o._settings.min,u)),o.value=i(u,o._settings.step)}function n(i){t(window).off("mousemove touchmove",e),_=setTimeout(function(){f.removeClass("addui-slider-handle-active")},o._settings.timeout)}function a(t){if(t.preventDefault(),"vertical"==o._settings.direction){if("touchmove"==t.type)var e=t.originalEvent.changedTouches[0].pageY;else var e=t.pageY;var n=h.offset().top+h.height(),a=n-e,d=o._settings.max-o._settings.min,r=a/h.height()*100}else{if("touchmove"==t.type)var l=t.originalEvent.changedTouches[0].pageX;else var l=t.pageX;var u=h.offset().left,g=l-u,d=o._settings.max-o._settings.min,r=g/h.width()*100}var v=r/100*d,m=i(v+o._settings.min,o._settings.step);m=Math.min(o._settings.max,Math.max(o._settings.min,m));var c=i(s(o._settings.value.split(",")[1]),o._settings.step);c<m&&(c=m),o.value=m+","+c}function d(e){t(window).off("mousemove touchmove",a),v=setTimeout(function(){g.removeClass("addui-slider-handle-active")},o._settings.timeout)}function r(t){if(t.preventDefault(),"vertical"==o._settings.direction){if("touchmove"==t.type)var e=t.originalEvent.changedTouches[0].pageY;else var e=t.pageY;var n=h.offset().top+h.height(),a=n-e,d=a/h.height()*100}else{if("touchmove"==t.type)var r=t.originalEvent.changedTouches[0].pageX;else var r=t.pageX;var l=h.offset().left,u=r-l,d=u/h.width()*100}var g=o._settings.max-o._settings.min,v=d/100*g,m=i(v+o._settings.min,o._settings.step);m=Math.min(o._settings.max,Math.max(o._settings.min,m));var c=i(s(o._settings.value.split(",")[0]),o._settings.step);c>m&&(c=m),o.value=c+","+m}function l(e){t(window).off("mousemove touchmove",r),c=setTimeout(function(){m.removeClass("addui-slider-handle-active")},o._settings.timeout)}var o=this,h=t("<div class='addui-slider addui-slider-"+this._settings.direction+(this._settings.range?" addui-slider-isrange":"")+" "+this._settings.class+"' "+(this._settings.id?"id='"+this._settings.id+"'":"")+"></div>"),u=(t("<input class='addui-slider-input' type='hidden' name='"+this._settings.name+"' value='"+this._settings.value+"' />").appendTo(h),t("<div class='addui-slider-track'></div>").appendTo(h));t("<div class='addui-slider-range'></div>").appendTo(u);if(this._settings.range){var g=t("<div class='addui-slider-handle addui-slider-handle-l'><div class='addui-slider-value'><span style='font-size: "+this._settings.fontsize+"px'></span></div></div>").appendTo(u),v=null;g.on("mousedown touchstart",function(e){clearTimeout(v),g.addClass("addui-slider-handle-active"),t(window).on("mousemove touchmove dragmove",a),t(window).one("mouseup touchend",d)});var m=t("<div class='addui-slider-handle addui-slider-handle-h'><div class='addui-slider-value'><span style='font-size: "+this._settings.fontsize+"px'></span></div></div>").appendTo(u),c=null;m.on("mousedown touchstart",function(e){clearTimeout(c),m.addClass("addui-slider-handle-active"),t(window).on("mousemove touchmove dragmove",r),t(window).one("mouseup touchend",l)})}else{var f=t("<div class='addui-slider-handle'><div class='addui-slider-value'><span style='font-size: "+this._settings.fontsize+"px'></span></div></div>").appendTo(u),_=null;f.on("mousedown touchstart",function(i){clearTimeout(_),f.addClass("addui-slider-handle-active"),t(window).on("mousemove touchmove dragmove",e),t(window).one("mouseup touchend",n)}),h.on("click",function(t){if(t.preventDefault(),"vertical"==o._settings.direction){if("touchmove"==t.type)var e=t.originalEvent.changedTouches[0].pageY;else var e=t.pageY;var s=h.offset().top+h.height(),n=s-e,a=n/h.height()*100}else{if("touchmove"==t.type)var d=t.originalEvent.changedTouches[0].pageX;else var d=t.pageX;var r=h.offset().left,l=d-r,a=l/h.width()*100}var u=i(a/100*(o._settings.max-o._settings.min),o._settings.step)+o._settings.min;u=Math.min(o._settings.max,Math.max(o._settings.min,u)),clearTimeout(_),f.addClass("addui-slider-handle-active"),_=setTimeout(function(){f.removeClass("addui-slider-handle-active")},o._settings.timeout),o.value=u})}return h},this.defMethod("init",function(t){var e=this;if(this.settings=t,this._settings.range){var n=this._settings.value+"";if(n.indexOf(",")>-1){var a=n.split(","),d=s(a[0]);d=Math.min(this._settings.max,Math.max(this._settings.min,d)),d=i(d,this._settings.step);var r=s(a[1]);r=Math.min(this._settings.max,Math.max(this._settings.min,r)),r=i(r,this._settings.step)}else{var n=i(Math.max(this._settings.min,Math.min(this._settings.max,s(this._settings.value))),this._settings.step),l=(this._settings.max-this._settings.min)/2;if(n<l)var d=n,r=this._settings.max-n;else var r=n,d=this._settings.min+n}d<r?this._settings.value=d+","+r:this._settings.value=r+","+d}else this._settings.value=Math.max(this._settings.min,Math.min(this._settings.max,s(this._settings.value)));this.on("render",function(){e.value=e._settings.value}),this.trigger("init",{settings:this._settings})}),this.init.apply(this,arguments)}),t.fn.addSlider=function(t){$add.Slider(this,t)},$add.auto.Slider=function(){$add.auto.disabled||t("[data-addui=slider]").addSlider()}}(jQuery);$(function(){for(var k in $add.auto){if(typeof($add.auto[k])=="function"){$add.auto[k]();}}});